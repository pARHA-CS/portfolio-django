{% extends 'base.html' %}

{% block title %}{{ project.title }}{% endblock %}

{% block content %}

<div id="projects-banner" class="banner-area section-padding">
    <div class="bg-overlay black"></div>
    <div class="container-project">
        <div class="row">
            <div class="col-md-12">
                <div class="welcome-text-project">
                    <div class="name-area wow fadeInDown" data-wow-delay="0.2s">
                        {{ project.title }}
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{# Ajout de l'image du projet en plein écran en dessous du bandeau bleu #}
<div class="project-image-fullwidth" style="background-image: url('{{ project.image.url }}');"></div>


<div class="container">

    <h3>Description du projet :</h3>
    <p>{{ project.description }}</p>

    <h3>Technologie utilisée :</h3>
    <p>{{ project.technology }}</p>

    {# Section pour la diapo (affiche si elle existe) #}
    {% if project.diapo %}
        <h3>Diapo du projet :</h3>
        <a href="{{ project.diapo.url }}" target="_blank">Voir la diapo</a>
    {% endif %}

    {% if code %}

    {% endif %}

    {# Affichage du README GitHub #}
    {% if readme %}
        <h3>README du projet : </h3>
        <div class="readme-box">
            {{ readme|safe }} <!-- Utiliser |safe pour afficher le HTML -->
        </div>
    {% else %}
        <p>Pas de README disponible pour ce projet.</p>
    {% endif %}

    <div class="mt-4">
        <a href="{% url 'project_list' %}" class="text-decoration-none">
            <h6>Retour à la liste des projets</h6>
        </a>
    </div>

{# Script Mermaid pour les diagrammes Mermaid #}
{# Insertion du script Mermaid #}
<script type="module">
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({ startOnLoad: true });
</script>

{% endblock %}
